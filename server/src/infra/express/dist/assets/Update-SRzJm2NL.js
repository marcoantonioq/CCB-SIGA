import{d as f,r as D,c as h,b as e,w as r,v as i,i as m,u as _,g}from"./index-cGrtRTBD.js";const w={class:"input-field"},b=e("label",{for:"date1Input"},"Data inicial:",-1),S={class:"input-field"},v=e("label",{for:"date2Input"},"Data final:",-1),y=e("button",{class:"btn",type:"submit"},"Gerar Dados",-1),O=f({__name:"Update",setup(I){const d=_(),s=new Date,c=new Date(s.getFullYear(),s.getMonth(),1),l=new Date(s.getFullYear(),s.getMonth()+1,0),t=D({date1:c.toISOString().slice(0,10),date2:l.toISOString().slice(0,10)}),u=async()=>{try{const n=new Date(t.date1).toISOString(),o=new Date(t.date2).toISOString(),a=await fetch(`/api/generate?date1=${n}&date2=${o}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const p=await a.json();console.log("Dados recebidos com sucesso:",p),d.push("/")}else throw new Error("Erro ao receber os dados do servidor.")}catch(n){console.error("Erro ao receber os dados:",n)}};return(n,o)=>(g(),h("main",null,[e("form",{onSubmit:m(u,["prevent"])},[e("div",w,[b,r(e("input",{id:"date1Input","onUpdate:modelValue":o[0]||(o[0]=a=>t.date1=a),type:"date",required:""},null,512),[[i,t.date1]])]),e("div",S,[v,r(e("input",{id:"date2Input","onUpdate:modelValue":o[1]||(o[1]=a=>t.date2=a),type:"date",required:""},null,512),[[i,t.date2]])]),y],32)]))}});export{O as default};
